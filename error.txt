ğŸ”• SILENCE DETECTED - Prompting user
ğŸ¤– AI: "I'm having trouble hearing you. Are you there?"
============================================================
ğŸ”Š [DEBUG] Speech enabled; remote_addr=('192.168.1.55', 64532)
ğŸš¦ [DEBUG] Set ai_speaking flag
ğŸ”Š Generating speech from assistant reply...
ğŸ”Š [TTS] Request text (46 chars): I'm having trouble hearing you. Are you there?
ğŸµ [TTS] Trying Windows SAPI...
âœ… [TTS] SAPI returned 134246 bytes @ 22050Hz
   (TTS generation took 0.07s)
ğŸ“¤ Enqueueing 134246 bytes at 22050Hz for ('192.168.1.55', 64532) (pt_hint=0)
   Resampled to 8kHz: 48706 bytes
   Encoded to PCMU: 24353 bytes
   âœ… Queued 153 frames (3060ms)
ğŸ“¤ [DEBUG] Enqueued 153 frames to RTP queue
âœ… Playing (queued) 3.1s of audio; waiting 4.6s for sender to transmit
ğŸ¯ Starting new audio sequence (marker bit set)
ğŸ“¨ RTP: sent non-silence packet #350, queue=151
ğŸ“¨ RTP: sent non-silence packet #400, queue=101
[THREADS] transcribe_worker: alive | llm_worker: alive | thread_health_monitor: alive | rtp_sender_('192.168.1.55', 64532): alive
ğŸ“¨ RTP: sent non-silence packet #450, queue=51
ğŸ“¨ RTP: sent non-silence packet #500, queue=1
âœ… Audio queue emptied after 3.2s
âœ… Audio finished sending
ğŸš¦ [DEBUG] Cleared ai_speaking flag
ğŸ”„ [DEBUG] LLM task done
ğŸ”„ [DEBUG] LLM worker waiting for messages...

ğŸ¤ User speaking...
ğŸ“ Processing speech (0.7s)...
[DEBUG] Putting audio into transcribe_queue
[DEBUG] Audio queued for transcription

ğŸ¤ User speaking...
ğŸ”„ [DEBUG] LLM worker waiting for messages...
ğŸ”„ [DEBUG] LLM worker waiting for messages...
âš ï¸  No speech detected in audio (1.0s)
ğŸ”„ [DEBUG] LLM worker waiting for messages...
ğŸ“ Processing speech (2.7s)...
[DEBUG] Putting audio into transcribe_queue
[DEBUG] Audio queued for transcription

ğŸ¤ User speaking...
ğŸ”„ [DEBUG] LLM worker waiting for messages...
ğŸ“ Processing speech (0.5s)...
[DEBUG] Putting audio into transcribe_queue
[DEBUG] Audio queued for transcription

âœ… TRANSCRIBED: "Hello can you hear me?"
   (Transcription took 0.7s)
ğŸ“¤ [DEBUG] Putting 'Hello can you hear me?' into ollama_queue (current size: 0)...
âœ… [DEBUG] Message queued! New queue size: 1
ğŸ”” [DEBUG] Received message from queue: 'Hello can you hear me?'

============================================================
ğŸ‘¤ USER: "Hello can you hear me?"
============================================================
âš ï¸  No speech detected in audio (0.6s)
ğŸ“Š RTP: 589 pkts, queue: 0
[THREADS] transcribe_worker: alive | llm_worker: alive | thread_health_monitor: alive | rtp_sender_('192.168.1.55', 64532): alive
â° User silent for 8.0s, prompting...
[DEBUG] queueing silence prompt to ollama_queue: Hey, I didn't catch that. Can you speak up?
[DEBUG] silence prompt queued
ğŸ“Š RTP: 777 pkts, queue: 0
[THREADS] transcribe_worker: alive | llm_worker: alive | thread_health_monitor: alive | rtp_sender_('192.168.1.55', 64532): alive
â° User silent for 20.0s, prompting...
[DEBUG] queueing silence prompt to ollama_queue: Hello? Are you still there? I can't hear you.
[DEBUG] silence prompt queued
ğŸ“Š RTP: 957 pkts, queue: 0



pip install SpeechRecognition pyttsx3 pyaudio numpy requests
